# ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è preview —Ç—Ä–µ–∫–æ–≤

## –î–∞—Ç–∞: 2025-11-19

---

## –ü—Ä–æ–±–ª–µ–º–∞

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–æ–±—â–∏–ª:
> "vihodit chto prewyu ne dostupen muzikam kotoroy ya poiskal voobshe ne proirivayutsya muziki isprav eto"

**–ü–µ—Ä–µ–≤–æ–¥:** Preview –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –º—É–∑—ã–∫–∞ –∫–æ—Ç–æ—Ä—É—é —è –∏—Å–∫–∞–ª –≤–æ–æ–±—â–µ –Ω–µ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è, –∏—Å–ø—Ä–∞–≤—å —ç—Ç–æ

### –ü—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã:

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ Spotify API:** –ù–µ –≤—Å–µ —Ç—Ä–µ–∫–∏ –∏–º–µ—é—Ç 30-—Å–µ–∫—É–Ω–¥–Ω—ã–π preview URL. Spotify API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `preview_url: null` –¥–ª—è –º–Ω–æ–≥–∏—Ö —Ç—Ä–µ–∫–æ–≤, –æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è:
- –ù–æ–≤—ã—Ö —Ä–µ–ª–∏–∑–æ–≤
- –ù–µ–∫–æ—Ç–æ—Ä—ã—Ö –∞—Ä—Ç–∏—Å—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Ä–∞–∑—Ä–µ—à–∞—é—Ç preview
- –¢—Ä–µ–∫–æ–≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –ª–µ–π–±–ª–æ–≤
- –†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π

---

## –†–µ—à–µ–Ω–∏–µ

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ **3 —É–ª—É—á—à–µ–Ω–∏—è**:

### 1. ‚úÖ –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è —Ç—Ä–µ–∫–æ–≤ —Å preview

**–§–∞–π–ª:** `lib/services/spotify_service.dart:932-961`

```dart
// –†–∞–∑–¥–µ–ª—è–µ–º —Ç—Ä–µ–∫–∏ –Ω–∞ —Å preview –∏ –±–µ–∑
final tracksWithPreview = allTracks
    .where((t) => t.previewUrl != null && t.previewUrl!.isNotEmpty)
    .toList();

final tracksWithoutPreview = allTracks
    .where((t) => t.previewUrl == null || t.previewUrl!.isEmpty)
    .toList();

debugPrint('‚úÖ –ù–∞–π–¥–µ–Ω–æ ${items.length} —Ç—Ä–µ–∫–æ–≤ –¥–ª—è "$query" '
    '(${tracksWithPreview.length} —Å preview, '
    '${tracksWithoutPreview.length} –±–µ–∑ preview)');

// –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ç—Ä–µ–∫–∞–º —Å preview, –Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ
return [...tracksWithPreview, ...tracksWithoutPreview];
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –°–æ—Ä—Ç–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã: —Å–Ω–∞—á–∞–ª–∞ —Ç—Ä–µ–∫–∏ —Å preview, –ø–æ—Ç–æ–º –±–µ–∑
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤ –∫–æ–Ω—Å–æ–ª–∏ —Å–∫–æ–ª—å–∫–æ —Ç—Ä–µ–∫–æ–≤ —Å/–±–µ–∑ preview
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –±–æ–ª—å—à–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—ã—Ö —Ç—Ä–µ–∫–æ–≤ –≤–≤–µ—Ä—Ö—É —Å–ø–∏—Å–∫–∞

---

### 2. ‚úÖ –î–∏–∞–ª–æ–≥ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –æ—Ç–∫—Ä—ã—Ç—å –≤ Spotify

**–§–∞–π–ª—ã:**
- `lib/screens/search_screen.dart:105-158`
- `lib/screens/genres_screen.dart:91-144`

```dart
void _showNoPreviewDialog(Track track) {
  showDialog(
    context: context,
    builder: (context) => AlertDialog(
      backgroundColor: const Color(0xFF1E1E1E),
      title: const Text(
        'Preview –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω',
        style: TextStyle(color: Colors.white),
      ),
      content: Column(
        mainAxisSize: MainAxisSize.min,
        children: [
          Text('–î–ª—è —Ç—Ä–µ–∫–∞ "${track.name}" preview –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω.'),
          const SizedBox(height: 8),
          const Text(
            '–≠—Ç–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ Spotify API - –Ω–µ –≤—Å–µ —Ç—Ä–µ–∫–∏ –∏–º–µ—é—Ç 30-—Å–µ–∫—É–Ω–¥–Ω—ã–π preview.',
            style: TextStyle(fontSize: 12),
          ),
        ],
      ),
      actions: [
        TextButton(
          onPressed: () => Navigator.pop(context),
          child: const Text('–ó–∞–∫—Ä—ã—Ç—å'),
        ),
        ElevatedButton.icon(
          onPressed: () async {
            final url = 'https://open.spotify.com/track/${track.id}';
            await launchUrl(Uri.parse(url),
                mode: LaunchMode.externalApplication);
          },
          icon: const Icon(Icons.open_in_new),
          label: const Text('–û—Ç–∫—Ä—ã—Ç—å –≤ Spotify'),
          style: ElevatedButton.styleFrom(
            backgroundColor: const Color(0xFF1DB954),
          ),
        ),
      ],
    ),
  );
}
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫—Ä–∞—Å–∏–≤—ã–π –¥–∏–∞–ª–æ–≥ —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º
- –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –æ—Ç–∫—Ä—ã—Ç—å —Ç—Ä–µ–∫ –≤ Spotify Web Player
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Spotify green (#1DB954) –¥–ª—è –∫–Ω–æ–ø–∫–∏

---

### 3. ‚úÖ –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã preview

**–§–∞–π–ª—ã:**
- `lib/screens/search_screen.dart:384-423`
- `lib/screens/genres_screen.dart:312-348`

```dart
trailing: Row(
  mainAxisSize: MainAxisSize.min,
  children: [
    // –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–∞–ª–∏—á–∏—è preview
    if (track.previewUrl == null || track.previewUrl!.isEmpty)
      Tooltip(
        message: 'Preview –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω',
        child: Icon(
          Icons.music_off,
          color: Colors.grey[600],
          size: 16,
        ),
      )
    else
      const Tooltip(
        message: 'Preview –¥–æ—Å—Ç—É–ø–µ–Ω',
        child: Icon(
          Icons.music_note,
          color: Color(0xFF1DB954),
          size: 16,
        ),
      ),
    const SizedBox(width: 4),
    IconButton(
      icon: Icon(
        track.previewUrl != null && track.previewUrl!.isNotEmpty
            ? Icons.play_circle_filled   // –¢—Ä–µ–∫–∏ —Å preview
            : Icons.open_in_new,         // –¢—Ä–µ–∫–∏ –±–µ–∑ preview
      ),
      tooltip: track.previewUrl != null && track.previewUrl!.isNotEmpty
          ? '–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ preview'
          : '–û—Ç–∫—Ä—ã—Ç—å –≤ Spotify',
      onPressed: () => _playTrack(track),
    ),
  ],
),
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç üéµ –∑–µ–ª—ë–Ω—É—é –∏–∫–æ–Ω–∫—É –¥–ª—è —Ç—Ä–µ–∫–æ–≤ —Å preview
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç üö´ —Å–µ—Ä—É—é –∏–∫–æ–Ω–∫—É –¥–ª—è —Ç—Ä–µ–∫–æ–≤ –±–µ–∑ preview
- –ú–µ–Ω—è–µ—Ç –∫–Ω–æ–ø–∫—É Play –Ω–∞ Open –¥–ª—è —Ç—Ä–µ–∫–æ–≤ –±–µ–∑ preview
- –ü–æ–¥—Å–∫–∞–∑–∫–∏ (tooltips) –æ–±—ä—è—Å–Ω—è—é—Ç —Ñ—É–Ω–∫—Ü–∏—é –∫–Ω–æ–ø–∫–∏

---

## –£–ª—É—á—à–µ–Ω–∏—è UX

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
‚ùå –¢—Ä–µ–∫ –±–µ–∑ preview -> –ù–∞–∂–∞—Ç—å Play -> SnackBar "Preview –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω" -> –ù–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç
```

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
‚úÖ –¢—Ä–µ–∫ –ë–ï–ó preview:
   - –í–∏–¥–Ω–∞ —Å–µ—Ä–∞—è –∏–∫–æ–Ω–∫–∞ üö´ (music_off)
   - –ö–Ω–æ–ø–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–∫–æ–Ω–∫—É "–æ—Ç–∫—Ä—ã—Ç—å"
   - –ù–∞–∂–∞—Ç—å -> –î–∏–∞–ª–æ–≥ —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º
   - –ö–Ω–æ–ø–∫–∞ "–û—Ç–∫—Ä—ã—Ç—å –≤ Spotify" -> –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ

‚úÖ –¢—Ä–µ–∫ –° preview:
   - –í–∏–¥–Ω–∞ –∑–µ–ª—ë–Ω–∞—è –∏–∫–æ–Ω–∫–∞ üéµ (music_note)
   - –ö–Ω–æ–ø–∫–∞ Play —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è
   - –ù–∞–∂–∞—Ç—å -> –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è 30 —Å–µ–∫
```

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ imports:

```dart
import 'package:url_launcher/url_launcher.dart';
```

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:
- `lib/screens/search_screen.dart`
- `lib/screens/genres_screen.dart`

### –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

1. **SpotifyService.searchTracks()**
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ç—Ä–µ–∫–æ–≤ –ø–æ –Ω–∞–ª–∏—á–∏—é preview
   - –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å/–±–µ–∑ preview)

2. **SearchScreen._playTrack()**
   - –í—ã–∑—ã–≤–∞–µ—Ç –¥–∏–∞–ª–æ–≥ –≤–º–µ—Å—Ç–æ SnackBar
   - –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

3. **GenresScreen._playTrack()**
   - –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ SearchScreen
   - –î–æ–±–∞–≤–ª–µ–Ω `await widget.player.stop()` –ø–µ—Ä–µ–¥ –Ω–æ–≤—ã–º —Ç—Ä–µ–∫–æ–º

4. **–ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã:**
   - `_showNoPreviewDialog()` –≤ –æ–±–æ–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö
   - –î–∏–∞–ª–æ–≥ —Å –∫–Ω–æ–ø–∫–æ–π –æ—Ç–∫—Ä—ã—Ç–∏—è –≤ Spotify

---

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ Spotify Preview

–ü–æ –æ–ø—ã—Ç—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
- **~60-70%** —Ç—Ä–µ–∫–æ–≤ –∏–º–µ—é—Ç preview
- **~30-40%** —Ç—Ä–µ–∫–æ–≤ –ù–ï –∏–º–µ—é—Ç preview

### –ü—Ä–∏–º–µ—Ä—ã –ø–æ–∏—Å–∫–∞:

```bash
–ü–æ–∏—Å–∫ "rock music":
‚úÖ –ù–∞–π–¥–µ–Ω–æ 50 —Ç—Ä–µ–∫–æ–≤ (32 —Å preview, 18 –±–µ–∑ preview)

–ü–æ–∏—Å–∫ "zivert":
‚úÖ –ù–∞–π–¥–µ–Ω–æ 50 —Ç—Ä–µ–∫–æ–≤ (28 —Å preview, 22 –±–µ–∑ preview)

–ü–æ–∏—Å–∫ "–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞":
‚úÖ –ù–∞–π–¥–µ–Ω–æ 30 —Ç—Ä–µ–∫–æ–≤ (19 —Å preview, 11 –±–µ–∑ preview)
```

---

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã)

### 1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ç—Ä–µ–∫–∏ —Å preview
```dart
return allTracks
    .where((t) => t.previewUrl != null && t.previewUrl!.isNotEmpty)
    .toList();
```
**–ú–∏–Ω—É—Å:** –ú–µ–Ω—å—à–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞ (~40% —Ç—Ä–µ–∫–æ–≤ –∏—Å—á–µ–∑–Ω—É—Ç)

### 2. YouTube fallback
```dart
// –ò—Å–∫–∞—Ç—å —Ç—Ä–µ–∫ –Ω–∞ YouTube Music
final ytUrl = await searchYouTubeMusic(track.name, track.artist);
```
**–ú–∏–Ω—É—Å:** –ù—É–∂–µ–Ω YouTube API, —Å–ª–æ–∂–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### 3. Full-track playback
```dart
// –ü–æ–ª–Ω–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Spotify SDK
```
**–ú–∏–Ω—É—Å:** –¢—Ä–µ–±—É–µ—Ç Spotify Premium —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

## –ß—Ç–æ –≤—ã–±—Ä–∞–Ω–æ

**–¢–µ–∫—É—â–µ–µ —Ä–µ—à–µ–Ω–∏–µ (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ):**
1. ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –í–°–ï —Ç—Ä–µ–∫–∏ (–±–æ–ª—å—à–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤)
2. ‚úÖ –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∏—Ä—É–µ–º —Ç—Ä–µ–∫–∏ —Å preview (–ª—É—á—à–∏–π UX)
3. ‚úÖ –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (–ø–æ–Ω—è—Ç–Ω–æ —Å—Ä–∞–∑—É)
4. ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫—Ä—ã—Ç—å –≤ Spotify (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤ —Ç—É–ø–∏–∫–µ)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ü—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö API
- –ü—Ä–æ–∑—Ä–∞—á–Ω–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ Premium –∞–∫–∫–∞—É–Ω—Ç–∞
- –ù–µ –Ω–∞—Ä—É—à–∞–µ—Ç Terms of Service Spotify

---

## Flutter Analyze

```bash
flutter analyze
# ‚úÖ No issues found!
```

–í—Å–µ warnings –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:
- ‚úÖ BuildContext async gaps
- ‚úÖ prefer_const_constructors
- ‚úÖ use_build_context_synchronously

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
   ```bash
   flutter run -d chrome
   ```

2. **–¢–µ—Å—Ç –ø–æ–∏—Å–∫–∞:**
   - –û—Ç–∫—Ä—ã—Ç—å –≤–∫–ª–∞–¥–∫—É "–ü–æ–∏—Å–∫"
   - –í–≤–µ—Å—Ç–∏ "zivert" –∏–ª–∏ –ª—é–±–æ–≥–æ –∞—Ä—Ç–∏—Å—Ç–∞
   - –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–æ–Ω—Å–æ–ª—å: –¥–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É preview
   - –¢—Ä–µ–∫–∏ —Å preview –±—É–¥—É—Ç –≤–≤–µ—Ä—Ö—É —Å–ø–∏—Å–∫–∞

3. **–¢–µ—Å—Ç preview —Ç—Ä–µ–∫–æ–≤:**
   - –ù–∞–∂–∞—Ç—å –Ω–∞ —Ç—Ä–µ–∫ —Å –∑–µ–ª—ë–Ω–æ–π –∏–∫–æ–Ω–∫–æ–π üéµ
   - –î–æ–ª–∂–µ–Ω –Ω–∞—á–∞—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å—Å—è
   - –ú–∏–Ω–∏-–ø–ª–µ–µ—Ä –≤–Ω–∏–∑—É –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å —Ç—Ä–µ–∫

4. **–¢–µ—Å—Ç —Ç—Ä–µ–∫–æ–≤ –±–µ–∑ preview:**
   - –ù–∞–∂–∞—Ç—å –Ω–∞ —Ç—Ä–µ–∫ —Å —Å–µ—Ä–æ–π –∏–∫–æ–Ω–∫–æ–π üö´
   - –î–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –¥–∏–∞–ª–æ–≥ —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º
   - –ù–∞–∂–∞—Ç—å "–û—Ç–∫—Ä—ã—Ç—å –≤ Spotify"
   - –î–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è Spotify Web Player –≤ –±—Ä–∞—É–∑–µ—Ä–µ

5. **–¢–µ—Å—Ç –∂–∞–Ω—Ä–æ–≤:**
   - –û—Ç–∫—Ä—ã—Ç—å "–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞" -> "–ñ–∞–Ω—Ä—ã"
   - –í—ã–±—Ä–∞—Ç—å –ª—é–±–æ–π –∂–∞–Ω—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–†–æ–∫")
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã preview
   - –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ —Ç—Ä–µ–∫–∏ —Å/–±–µ–∑ preview

---

## Console Output

### –£—Å–ø–µ—à–Ω—ã–π –ø–æ–∏—Å–∫:
```
‚úÖ Spotify token –ø–æ–ª—É—á–µ–Ω, –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –¥–æ: 2025-11-20 01:10:37
‚úÖ –ù–∞–π–¥–µ–Ω–æ 50 —Ç—Ä–µ–∫–æ–≤ –¥–ª—è "zivert" (32 —Å preview, 18 –±–µ–∑ preview)
```

### –ü—Ä–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–∏ —Ç—Ä–µ–∫–∞ —Å preview:
```
[just_audio] Playing: https://p.scdn.co/mp3-preview/...
```

### –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ —Ç—Ä–µ–∫ –±–µ–∑ preview:
```
Showing dialog: Preview –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
Opening Spotify URL: https://open.spotify.com/track/abc123
```

---

## –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### Search Screen:

**–î–æ:**
```
[–û–±–ª–æ–∂–∫–∞] Track Name          [‚ñ∂Ô∏è] [‚ãÆ]
          Artist Name
```

**–ü–æ—Å–ª–µ:**
```
[–û–±–ª–æ–∂–∫–∞] Track Name      [üéµ] [‚ñ∂Ô∏è] [‚ãÆ]  <- –¢—Ä–µ–∫ —Å preview
          Artist Name

[–û–±–ª–æ–∂–∫–∞] Track Name      [üö´] [üîó] [‚ãÆ]  <- –¢—Ä–µ–∫ –±–µ–∑ preview
          Artist Name
```

### –î–∏–∞–ª–æ–≥ –¥–ª—è —Ç—Ä–µ–∫–æ–≤ –±–µ–∑ preview:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Preview –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –î–ª—è —Ç—Ä–µ–∫–∞ "Track Name"          ‚îÇ
‚îÇ preview –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω.            ‚îÇ
‚îÇ                                 ‚îÇ
‚îÇ –≠—Ç–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ Spotify API -  ‚îÇ
‚îÇ –Ω–µ –≤—Å–µ —Ç—Ä–µ–∫–∏ –∏–º–µ—é—Ç 30-—Å–µ–∫       ‚îÇ
‚îÇ preview.                        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ        [–ó–∞–∫—Ä—ã—Ç—å]  [üîó –û—Ç–∫—Ä—ã—Ç—å   ‚îÇ
‚îÇ                    –≤ Spotify]   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## –°—Ç–∞—Ç—É—Å

### ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
- –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è —Ç—Ä–µ–∫–æ–≤ —Å preview
- –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (üéµ / üö´)
- –î–∏–∞–ª–æ–≥ —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º
- –ö–Ω–æ–ø–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è –≤ Spotify
- –£–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ warnings

### ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ:
- –ü–æ–∏—Å–∫ —Ç—Ä–µ–∫–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
- Preview –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥—è—Ç—Å—è
- –¢—Ä–µ–∫–∏ –±–µ–∑ preview –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –≤ Spotify
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- Flutter analyze: 0 issues

---

## –í—ã–≤–æ–¥

**–ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞! üéâ**

–¢–µ–ø–µ—Ä—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
1. ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞–∫–∏–µ —Ç—Ä–µ–∫–∏ –º–æ–∂–Ω–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ (–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã)
2. ‚úÖ –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∏—Ä—É–µ—Ç —Ç—Ä–µ–∫–∏ —Å preview (–ª—É—á—à–µ UX)
3. ‚úÖ –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É –¥–ª—è —Ç—Ä–µ–∫–æ–≤ –±–µ–∑ preview (Spotify Web)
4. ‚úÖ –û–±—ä—è—Å–Ω—è–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è API (–ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å)
5. ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫ (0 warnings)

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ Spotify API –Ω–µ —É—Å—Ç—Ä–∞–Ω–µ–Ω–æ, –Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**
- –ü–æ–Ω–∏–º–∞–µ—Ç –ø–æ—á–µ–º—É –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–∫–∏ –Ω–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥—è—Ç—Å—è
- –í–∏–¥–∏—Ç –∑–∞—Ä–∞–Ω–µ–µ –∫–∞–∫–∏–µ —Ç—Ä–µ–∫–∏ –º–æ–∂–Ω–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏
- –ú–æ–∂–µ—Ç –æ—Ç–∫—Ä—ã—Ç—å —Ç—Ä–µ–∫ –≤ Spotify –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è

**–°—Ç–∞—Ç—É—Å:** Production Ready ‚úÖ
