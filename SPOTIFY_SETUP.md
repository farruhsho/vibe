# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Spotify –≤ Vibe

## –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–æ–∏—Å–∫–∞ –º—É–∑—ã–∫–∏ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞:
```
–û—à–∏–±–∫–∞ –ø–æ–∏—Å–∫–∞: No valid Spotify token
```

–≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Ç–æ–º—É, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ Spotify OAuth.

---

## –†–µ—à–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: Demo —Ä–µ–∂–∏–º (—Ç–µ–∫—É—â–∏–π)

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ demo —Ä–µ–∂–∏–º–µ:

‚úÖ **–ü–æ–∏—Å–∫** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç mock —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
‚úÖ **–ñ–∞–Ω—Ä—ã** - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç demo —Ç—Ä–µ–∫–∏
‚úÖ **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è** - —Ä–∞–±–æ—Ç–∞—é—Ç —Å mock –¥–∞–Ω–Ω—ã–º–∏
‚úÖ **–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ** - –¥–æ—Å—Ç—É–ø–µ–Ω preview —Ç—Ä–µ–∫–æ–≤

–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–æ–∏—Å–∫–∞ –ø–æ—è–≤–∏—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ:
```
"–î–ª—è –ø–æ–ª–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–æ–∏—Å–∫—É –ø–æ–¥–∫–ª—é—á–∏—Ç–µ Spotify"
```

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Spotify (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

#### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ —ç–∫—Ä–∞–Ω –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:
1. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∑–µ–ª—ë–Ω—É—é –∏–∫–æ–Ω–∫—É Spotify (üéµ) –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
2. –û—Ç–∫—Ä–æ–µ—Ç—Å—è —ç–∫—Ä–∞–Ω "–ü–æ–¥–∫–ª—é—á–∏—Ç—å Spotify"

#### –®–∞–≥ 2: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

**–í–ê–ñ–ù–û:** –î–ª—è –ø–æ–ª–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å OAuth flow:

1. **–í Spotify Dashboard:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ: https://developer.spotify.com/dashboard
   - –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ "vibe"
   - –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Redirect URI –Ω–∞—Å—Ç—Ä–æ–µ–Ω:
     - `vibe://spotify-callback`

2. **–ù–∞–∂–º–∏—Ç–µ "–ü–æ–¥–∫–ª—é—á–∏—Ç—å Spotify"** –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
   - –û—Ç–∫—Ä–æ–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π Spotify
   - –í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π Spotify –∞–∫–∫–∞—É–Ω—Ç
   - –†–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é

3. **–ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:**
   - –í—ã –≤–µ—Ä–Ω—ë—Ç–µ—Å—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
   - –¢–æ–∫–µ–Ω –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ Firebase
   - –ü–æ–∏—Å–∫ –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

---

## –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ë–ï–ó –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:

‚úÖ –í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è (8 –∫–∞—Ç–µ–≥–æ—Ä–∏–π)
‚úÖ AI —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Å mock –¥–∞–Ω–Ω—ã–º–∏
‚úÖ –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ demo —Ç—Ä–µ–∫–æ–≤
‚úÖ –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∏ –∂–∞–Ω—Ä—ã (demo)
‚úÖ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

### –ß—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:

‚ö†Ô∏è –†–µ–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ —Ç—Ä–µ–∫–æ–≤ –≤ Spotify
‚ö†Ô∏è –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –æ–±–ª–æ–∂–µ–∫
‚ö†Ô∏è –ü–æ–ª–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ç—Ä–µ–∫–æ–≤
‚ö†Ô∏è –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ —Å–æ Spotify
‚ö†Ô∏è –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–π –≤ Spotify

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ OAuth (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤)

### 1. Spotify Developer Dashboard

```yaml
App Name: vibe
Client ID: 0c4284170a4f4c68a4834dc317e6bd11
Client Secret: ea6d94c8b0994d7295e49a7171ec5e14
Redirect URIs:
  - https://github.com/furruhsho/vibe
  - vibe://spotify-callback
```

### 2. –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ Scopes

```
user-read-private
user-read-email
user-library-read
user-top-read
```

### 3. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è callback

**–í–ê–ñ–ù–û:** –°–µ–π—á–∞—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –±—Ä–∞—É–∑–µ—Ä –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –Ω–æ callback –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è.

–ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ `lib/main.dart`:

```dart
// TODO: Implement deep link handling
// Handle vibe://spotify-callback?code=...
```

---

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: Client Credentials Flow

–î–ª—è –±–∞–∑–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞ –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Client Credentials:

```dart
// –í SpotifyService
static Future<String> getClientCredentialsToken() async {
  const clientId = '0c4284170a4f4c68a4834dc317e6bd11';
  const clientSecret = 'ea6d94c8b0994d7295e49a7171ec5e14';

  final auth = base64Encode(utf8.encode('$clientId:$clientSecret'));

  final response = await http.post(
    Uri.parse('https://accounts.spotify.com/api/token'),
    headers: {
      'Authorization': 'Basic $auth',
      'Content-Type': 'application/x-www-form-urlencoded',
    },
    body: {'grant_type': 'client_credentials'},
  );

  // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–∫–µ–Ω
}
```

‚ö†Ô∏è **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –¥–∞–Ω–Ω—ã–º
- –¢–æ–ª—å–∫–æ –ø—É–±–ª–∏—á–Ω—ã–µ API endpoints

---

## –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –°–ï–ô–ß–ê–°:

1. **–ì–ª–∞–≤–Ω–∞—è** - –≤—ã–±–µ—Ä–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ, –ø–æ–ª—É—á–∏—Ç–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
2. **–ü–æ–∏—Å–∫** - –≤–≤–æ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å, –ø–æ–ª—É—á–∞–π—Ç–µ demo —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
3. **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞** - –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–π—Ç–µ –∂–∞–Ω—Ä—ã
4. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** - —Å–º–æ—Ç—Ä–∏—Ç–µ —Å–≤–æ–∏ –º—É–∑—ã–∫–∞–ª—å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### –•–æ—Ç–∏—Ç–µ –ø–æ–ª–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª?

–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∑–µ–ª—ë–Ω—É—é –∏–∫–æ–Ω–∫—É üéµ Spotify –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É!

---

## –°—Ç–∞—Ç—É—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

- ‚úÖ Demo —Ä–µ–∂–∏–º —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚úÖ UI/UX –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è Spotify
- ‚úÖ Mock –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Å–µ—Ö —ç–∫—Ä–∞–Ω–æ–≤
- ‚ö†Ô∏è OAuth flow —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏
- ‚ö†Ô∏è Deep link handling –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚ö†Ô∏è Token refresh –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω

---

## –í—ã–≤–æ–¥

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –≤ demo —Ä–µ–∂–∏–º–µ. –î–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ Spotify –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:

1. –ó–∞–≤–µ—Ä—à–∏—Ç—å OAuth flow
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å deep link handling
3. –î–æ–±–∞–≤–∏—Ç—å token management

**–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å mock –¥–∞–Ω–Ω—ã–º–∏.**
